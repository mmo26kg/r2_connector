<section class="tabs">
    <div class="tab-buttons">
        <button data-tab="upload" class="active">Upload</button>
        <button data-tab="download">Download</button>
        <button data-tab="backup">Backup</button>
        <button data-tab="cron">Cron</button>
        <button data-tab="files">Files</button>
        <button data-tab="logs">Logs</button>
    </div>

    <div class="tab-contents">
        <div id="upload" class="tab-content active">
            <h2>Upload File</h2>
            <div class="description">
                <p><strong>ğŸ“¤ HÆ°á»›ng dáº«n Upload:</strong></p>
                <ul>
                    <li><strong>Upload exe (auto-clean):</strong> DÃ nh cho file .exe cá»§a TadDesign. Tá»± Ä‘á»™ng xÃ³a version
                        cÅ© vÃ  cáº­p nháº­t link download trÃªn website.</li>
                    <li><strong>Upload rar (auto-clean):</strong> DÃ nh cho file .rar cá»§a TadDesign. Tá»± Ä‘á»™ng xÃ³a version
                        cÅ© vÃ  cáº­p nháº­t link download trÃªn website.</li>
                    <li><strong>Auto:</strong> Tá»± Ä‘á»™ng chá»n phÆ°Æ¡ng thá»©c upload phÃ¹ há»£p (single hoáº·c multipart) dá»±a trÃªn
                        kÃ­ch thÆ°á»›c file.</li>
                    <li><strong>Single:</strong> Cho file nhá» dÆ°á»›i 100MB. Upload nhanh, phÃ¹ há»£p cho hÃ¬nh áº£nh, document.
                    </li>
                    <li><strong>Multipart:</strong> Cho file lá»›n trÃªn 100MB (tá»‘i Ä‘a 5TB). Upload theo tá»«ng pháº§n, á»•n Ä‘á»‹nh
                        hÆ¡n.</li>
                </ul>
                <p><strong>ğŸ’¡ LÆ°u Ã½:</strong> Key máº·c Ä‘á»‹nh lÃ  "exe/TadSetup.exe" cho file exe, "rar/TadSetup.rar" cho
                    file rar - cÃ³ thá»ƒ thay Ä‘á»•i (báº¯t buá»™c pháº£i báº¯t
                    Ä‘áº§u báº±ng exe/ hoáº·c rar/). Progress bar
                    sáº½ hiá»ƒn thá»‹ % upload realtime.</p>
                <p> Khi thanh progress bar load xong, Ä‘á»£i khoáº£ng 2 phÃºt, link táº£i má»›i sáº½ Ä‘Æ°á»£c cáº­p nháº­t lÃªn website</p>
            </div>
            <form id="uploadForm">
                <label>File: <input type="file" name="file" required /></label>
                <label>Key (Ä‘Æ°á»ng dáº«n lÆ°u trÃªn cloud): <input type="text" name="key" id="uploadKey"
                        value="exe/TadSetup.exe" placeholder="vÃ­ dá»¥: exe/TadSetup.exe hoáº·c rar/TadSetup.rar" /></label>
                <select name="method" id="uploadMethod">
                    <option value="exe" selected>Upload exe (auto-clean)</option>
                    <option value="rar">Upload rar (auto-clean)</option>
                    <option value="auto">Auto</option>
                    <option value="single">Single</option>
                    <option value="large">Multipart</option>
                </select>
                <button type="submit">Upload</button>
            </form>
            <div id="uploadProgress" style="display:none">
                <div class="progress-container">
                    <div class="progress-bar" id="uploadProgressBar"></div>
                </div>
                <div id="uploadStatus" class="status-text"></div>
            </div>
        </div>
        <div id="download" class="tab-content">
            <h2>Download File</h2>
            <div class="description">
                <p><strong>ğŸ“¥ HÆ°á»›ng dáº«n Download:</strong></p>
                <ul>
                    <li>Nháº­p <strong>Key</strong> (Ä‘Æ°á»ng dáº«n file trÃªn cloud). VÃ­ dá»¥: <code>exe/TadSetup.exe</code></li>
                    <li>Báº¥m nÃºt <strong>Download</strong> - file sáº½ Ä‘Æ°á»£c táº£i vá» mÃ¡y tá»± Ä‘á»™ng.</li>
                    <li>Progress bar hiá»ƒn thá»‹ % download vÃ  MB Ä‘Ã£ táº£i / tá»•ng MB.</li>
                </ul>
                <p><strong>ğŸ’¡ Tip:</strong> Äá»ƒ biáº¿t Key cá»§a file, vÃ o tab <strong>Files</strong> Ä‘á»ƒ xem danh sÃ¡ch táº¥t cáº£
                    file.</p>
            </div>
            <form id="downloadForm">
                <label>Key (Ä‘Æ°á»ng dáº«n file): <input type="text" name="key" placeholder="vÃ­ dá»¥: exe/TadSetup.exe"
                        required /></label>
                <button type="submit">Download</button>
            </form>
            <div id="downloadProgress" style="display:none">
                <div class="progress-container">
                    <div class="progress-bar" id="downloadProgressBar"></div>
                </div>
                <div id="downloadStatus" class="status-text"></div>
            </div>
        </div>

        <div id="backup" class="tab-content">
            <h2>Backup Database</h2>
            <div class="description">
                <p><strong>ğŸ’¾ HÆ°á»›ng dáº«n Backup PostgreSQL:</strong></p>
                <ul>
                    <li><strong>KhÃ´ng check "Use custom backup":</strong> Sá»­ dá»¥ng pg_dump (nhanh hÆ¡n, chuáº©n hÆ¡n - khuyáº¿n
                        nghá»‹).</li>
                    <li><strong>Check "Use custom backup":</strong> DÃ¹ng khi server khÃ´ng cÃ³ pg_dump (vÃ­ dá»¥: Railway vá»›i
                        Nixpacks).</li>
                    <li><strong>Connection string:</strong> Äá»ƒ trá»‘ng sáº½ tá»± Ä‘á»™ng dÃ¹ng DATABASE_URL tá»« server config.</li>
                    <li>Sau khi backup thÃ nh cÃ´ng, file .sql sáº½ tá»± Ä‘á»™ng upload lÃªn cloud storage.</li>
                </ul>
                <p><strong>ğŸ’¡ LÆ°u Ã½:</strong> Backup Ä‘Æ°á»£c lÆ°u vÃ o folder <code>backups/</code> trÃªn cloud. Xem tab
                    <strong>Files</strong> Ä‘á»ƒ download vá».
                </p>
            </div>
            <form id="backupForm">
                <label><input type="checkbox" name="useCustom" /> Use custom backup (no pg_dump)</label>
                <label>Connection string (optional): <input type="text" name="connectionString"
                        placeholder="Leave blank to use DATABASE_URL from server" /></label>
                <button type="button" id="backupBtn">Start Backup</button>
            </form>
            <div id="backupResult"></div>
        </div>

        <div id="cron" class="tab-content">
            <h2>Cron - Tá»± Ä‘á»™ng Backup</h2>
            <div class="description">
                <p><strong>â° HÆ°á»›ng dáº«n Cronjob:</strong></p>
                <ul>
                    <li><strong>Get Status:</strong> Xem tráº¡ng thÃ¡i cronjob (Ä‘ang cháº¡y hay dá»«ng), lá»‹ch backup, lá»‹ch sá»­
                        backup gáº§n nháº¥t.</li>
                    <li><strong>Start:</strong> Báº­t cronjob tá»± Ä‘á»™ng backup theo lá»‹ch Ä‘Ã£ cáº¥u hÃ¬nh.</li>
                    <li><strong>Stop:</strong> Táº¡m dá»«ng cronjob (backup tá»± Ä‘á»™ng sáº½ ngá»«ng).</li>
                    <li><strong>Trigger Now:</strong> Cháº¡y backup ngay láº­p tá»©c (khÃ´ng cáº§n chá» lá»‹ch).</li>
                    <li><strong>Update schedule:</strong> Thay Ä‘á»•i lá»‹ch backup. VÃ­ dá»¥: <code>0 2 * * *</code> = má»—i ngÃ y
                        lÃºc 2 giá» sÃ¡ng.</li>
                </ul>
                <p><strong>ğŸ’¡ Cron schedule format:</strong></p>
                <ul>
                    <li><code>0 2 * * *</code> - Má»—i ngÃ y lÃºc 02:00 AM</li>
                    <li><code>0 */6 * * *</code> - Má»—i 6 giá»</li>
                    <li><code>*/30 * * * *</code> - Má»—i 30 phÃºt</li>
                    <li><code>0 0 * * 0</code> - Má»—i Chá»§ nháº­t lÃºc 00:00</li>
                </ul>
            </div>
            <div>
                <button id="cronStatusBtn">Get Status</button>
                <button id="cronStartBtn">Start</button>
                <button id="cronStopBtn">Stop</button>
                <button id="cronTriggerBtn">Trigger Now</button>
            </div>
            <form id="cronScheduleForm">
                <label>New schedule: <input type="text" name="schedule" placeholder="e.g. 0 2 * * *" required /></label>
                <button type="submit">Update schedule</button>
            </form>
            <pre id="cronStatus"></pre>
        </div>

        <div id="files" class="tab-content">
            <h2>Files - Quáº£n lÃ½ File</h2>
            <div class="description">
                <p><strong>ğŸ“ HÆ°á»›ng dáº«n Quáº£n lÃ½ File:</strong></p>
                <ul>
                    <li><strong>List Files:</strong> Hiá»ƒn thá»‹ táº¥t cáº£ file trÃªn cloud storage.</li>
                    <li><strong>Prefix (tÃ¹y chá»n):</strong> Lá»c file theo folder. VÃ­ dá»¥: nháº­p <code>exe/</code> Ä‘á»ƒ chá»‰
                        xem file trong folder exe.</li>
                    <li>Má»—i file sáº½ cÃ³ 2 nÃºt:
                        <ul>
                            <li><strong>Download:</strong> Táº£i file vá» mÃ¡y</li>
                            <li><strong>Delete:</strong> XÃ³a file khá»i cloud (cáº§n xÃ¡c nháº­n trÆ°á»›c khi xÃ³a)</li>
                        </ul>
                    </li>
                </ul>
                <p><strong>ğŸ’¡ Tip:</strong> File backup database náº±m trong folder <code>backups/</code>. Nháº­p prefix Ä‘á»ƒ
                    xem nhanh.</p>
            </div>
            <form id="listForm">
                <label>Prefix (lá»c theo folder): <input type="text" name="prefix"
                        placeholder="optional - vÃ­ dá»¥: exe/ hoáº·c backups/" /></label>
                <button type="submit">List Files</button>
            </form>
            <ul id="fileList"></ul>
        </div>

        <div id="logs" class="tab-content">
            <h2>Logs - Nháº­t kÃ½ Há»‡ thá»‘ng</h2>
            <div class="description">
                <p><strong>ğŸ“Š HÆ°á»›ng dáº«n Xem Logs:</strong></p>
                <ul>
                    <li><strong>Nháº­t kÃ½ tá»± Ä‘á»™ng:</strong> Há»‡ thá»‘ng ghi láº¡i táº¥t cáº£ cÃ¡c hÃ nh Ä‘á»™ng (upload, download,
                        backup, cron...) vá»›i timestamp chÃ­nh xÃ¡c.</li>
                    <li><strong>Kiá»ƒm tra lá»‹ch sá»­:</strong> Xem láº¡i cÃ¡c action Ä‘Ã£ thá»±c hiá»‡n, káº¿t quáº£ thÃ nh cÃ´ng/lá»—i Ä‘á»ƒ
                        debug hoáº·c audit.</li>
                    <li><strong>Clear Logs:</strong> XÃ³a toÃ n bá»™ log Ä‘á»ƒ giá»¯ gá»n gÃ ng (nÃªn xem ká»¹ trÆ°á»›c khi xÃ³a náº¿u cáº§n
                        giá»¯ láº¡i dá»¯ liá»‡u).</li>
                </ul>
                <p><strong>ğŸ’¡ Tip:</strong> Logs Ä‘áº·c biá»‡t há»¯u Ã­ch Ä‘á»ƒ kiá»ƒm tra xem backup tá»± Ä‘á»™ng (cron) cÃ³ cháº¡y Ä‘Ãºng giá»
                    khÃ´ng, hoáº·c tÃ¬m nguyÃªn nhÃ¢n khi upload/download tháº¥t báº¡i.</p>
            </div>
            <div id="actionLogs"></div>
            <button id="clearLogs">Clear Logs</button>
        </div>
    </div>
</section>

<script>
    // EJS layout will inject
</script>